<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation · ClimateTools.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="ClimateTools.jl logo"/></a><h1>ClimateTools.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>Installation</a><ul class="internal"><li><a class="toctext" href="#Approach-no.-1-Use-main-system-python-distribution-1">Approach no. 1 Use main system python distribution</a></li><li><a class="toctext" href="#Approach-no.-2.-Build-a-python-virtual-environment-and-link-PyCall.jl-to-it-1">Approach no. 2. Build a python virtual environment and link PyCall.jl to it</a></li><li><a class="toctext" href="#Installing-ClimateTools.jl-1">Installing ClimateTools.jl</a></li></ul></li><li><a class="toctext" href="../loadingfile/">Importing a dataset</a></li><li><a class="toctext" href="../indices/">Climate Indices</a></li><li><a class="toctext" href="../interpolation/">Interpolation</a></li><li><a class="toctext" href="../biascorrection/">Bias correction</a></li><li><a class="toctext" href="../maps/">Visualization</a></li><li><a class="toctext" href="../interface/">Interface</a></li><li><a class="toctext" href="../examples/">Examples</a></li><li><a class="toctext" href="../functions/">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Installation</a></li></ul><a class="edit-page" href="https://github.com/Balinus/ClimateTools.jl/blob/master/docs/src/installation.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Installation</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h1><h2><a class="nav-anchor" id="Approach-no.-1-Use-main-system-python-distribution-1" href="#Approach-no.-1-Use-main-system-python-distribution-1">Approach no. 1 Use main system python distribution</a></h2><p>ClimateTools need some Python dependencies for mapping purpose. To ensure that ClimateTools works properly, it is recommended to use a Python distribution that can properly load the following python modules and build <code>PyCall</code> with the same python distribution.</p><p><strong>1.1 Python dependencies</strong></p><ul><li>matplotlib (tested with version 2.0.1)</li><li>basemap (tested with version 1.0.7)</li><li>scipy (tested with version 1.0.1)</li><li>cmocean</li></ul><p><em>Note. Installing Basemap for python 3.6+ seems problematic.</em></p><p><strong>1.2 Building PyCall</strong> After the confirmation that the Python dependencies can be loaded in Python, the user needs to build PyCall with the same Python version. Alternatively, if PyCall is already built, it may be only a matter of installing the Python dependencies with the PyCall&#39;s Python version by using <code>pip</code>.</p><pre><code class="language-julia">ENV[&quot;PYTHON&quot;]=&quot;path_to_python_distribution&quot;
pkg&gt; build PyCall</code></pre><h2><a class="nav-anchor" id="Approach-no.-2.-Build-a-python-virtual-environment-and-link-PyCall.jl-to-it-1" href="#Approach-no.-2.-Build-a-python-virtual-environment-and-link-PyCall.jl-to-it-1">Approach no. 2. Build a python virtual environment and link PyCall.jl to it</a></h2><p>One approach to ensure that the right python dependencies are installed is to use a virtual environment. More information can be found in <a href="https://github.com/JuliaPy/PyCall.jl">PyCall</a> documentation.</p><p><strong>2.1 Create a virtual environment with Python 2.7.x.</strong></p><pre><code class="language-bash">$ virtualenv --python=/usr/bin/python2 /path/to/venv
$ /path/to/venv/bin/python -m pip install numpy
$ /path/to/venv/bin/python -m pip install scipy
$ /path/to/venv/bin/python -m pip install matplotlib
$ /path/to/venv/bin/python -m pip install https://github.com/matplotlib/basemap/archive/v1.0.7rel.tar.gz
$ /path/to/venv/bin/python -m pip install git+https://github.com/matplotlib/cmocean</code></pre><p><strong>2.2 Testing Python installation</strong></p><p>Launch newly created virtual env python</p><pre><code class="language-python">#bash
$ /path/to/venv/bin/python # launch virtual env python</code></pre><p>Ensure that you can load the appropriate python packages inside the python interpreter.</p><pre><code class="language-python">#python
&gt;&gt;&gt; import mpl_toolkits.basemap as basemap
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; import cmocean as cm
&gt;&gt;&gt; import scipy as sc</code></pre><p><strong>2.3 Build PyCall with the new venv python</strong></p><p>Once the virtual environment python is tested, it&#39;s a matter of telling PyCall to use this distribution.</p><pre><code class="language-julia"># julia
julia&gt; ENV[&quot;PYTHON&quot;] = &quot;/path/to/venv/bin/python&quot;
julia&gt; using Pkg;Pkg.build(&quot;PyCall&quot;)
julia&gt; exit()
# re-enter julia
julia&gt; using ClimateTools
julia&gt; using Pkg; Pkg.test(&quot;ClimateTools&quot;)</code></pre><h2><a class="nav-anchor" id="Installing-ClimateTools.jl-1" href="#Installing-ClimateTools.jl-1">Installing ClimateTools.jl</a></h2><pre><code class="language-julia">pkg&gt; add ClimateTools # Tagged release</code></pre><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../loadingfile/"><span class="direction">Next</span><span class="title">Importing a dataset</span></a></footer></article></body></html>
