<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Installation · ClimateTools.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="ClimateTools.jl logo"/></a><h1>ClimateTools.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>Installation</a><ul class="internal"><li><a class="toctext" href="#Approach-no.-1-Use-Anaconda-or-main-system-python-distribution-1">Approach no. 1 Use Anaconda or main system python distribution</a></li><li><a class="toctext" href="#Approach-no.-2a.-Use-a-Conda-virtual-environment-and-link-PyCall.jl-to-it-1">Approach no. 2a. Use a Conda virtual environment and link PyCall.jl to it</a></li><li><a class="toctext" href="#Approach-no.-2b.-Build-a-python-virtual-environment-with-virtualenv-and-link-PyCall.jl-to-it-1">Approach no. 2b. Build a python virtual environment with <code>virtualenv</code> and link PyCall.jl to it</a></li><li><a class="toctext" href="#Installing-ClimateTools.jl-1">Installing ClimateTools.jl</a></li></ul></li><li><a class="toctext" href="../datasets/">Datasets</a></li><li><a class="toctext" href="../indices/">Climate Indices</a></li><li><a class="toctext" href="../interpolation/">Interpolation</a></li><li><a class="toctext" href="../biascorrection/">Bias correction</a></li><li><a class="toctext" href="../maps/">Visualization</a></li><li><a class="toctext" href="../interface/">Interface</a></li><li><a class="toctext" href="../examples/">Examples</a></li><li><a class="toctext" href="../functions/">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Installation</a></li></ul><a class="edit-page" href="https://github.com/Balinus/ClimateTools.jl/blob/master/docs/src/installation.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Installation</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Installation-1" href="#Installation-1">Installation</a></h1><p>ClimateTools.jl requires some python packages for mapping purpose and is currently using Basemap under the hood. To ensure that ClimateTools works properly, it is recommended to use a Python distribution that can properly load the required python packages and build <code>PyCall</code> with the same python distribution.</p><h2><a class="nav-anchor" id="Approach-no.-1-Use-Anaconda-or-main-system-python-distribution-1" href="#Approach-no.-1-Use-Anaconda-or-main-system-python-distribution-1">Approach no. 1 Use Anaconda or main system python distribution</a></h2><p>The first approach is to use Anaconda or the system python distribution and ensure that you can import the following packages. By far, the easiest solution is to use Anaconda, which can easily install the Basemap dependency.</p><p><strong>1.1 Python dependencies</strong></p><ul><li>matplotlib</li><li>basemap</li><li>scipy</li><li>cmocean</li></ul><p><strong>1.2 Testing Python installation</strong></p><p>No matter the approach used, it is recommended to test the python environment and see if you can import the required python packages.</p><pre><code class="language-python">#python
&gt;&gt;&gt; import mpl_toolkits.basemap as basemap
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; import cmocean as cm
&gt;&gt;&gt; import scipy as sc</code></pre><p><em>Note. Installing Basemap with <code>pip</code> for python 3.6+ seems problematic. That is why it is strongly suggested to use Anaconda distribution. See approach no 2a below for an installation with Anaconda</em></p><p><strong>1.2 Building PyCall</strong> After the confirmation that the Python dependencies can be loaded in Python, the user needs to build PyCall with the same Python version. Alternatively, if PyCall is already built, it may be only a matter of installing the Python dependencies with the PyCall&#39;s Python version by using <code>pip</code>.</p><pre><code class="language-julia">ENV[&quot;PYTHON&quot;]=&quot;path_to_python_distribution&quot;
pkg&gt; build PyCall</code></pre><h2><a class="nav-anchor" id="Approach-no.-2a.-Use-a-Conda-virtual-environment-and-link-PyCall.jl-to-it-1" href="#Approach-no.-2a.-Use-a-Conda-virtual-environment-and-link-PyCall.jl-to-it-1">Approach no. 2a. Use a Conda virtual environment and link PyCall.jl to it</a></h2><p>If the main system python distribution is not set-up properly, the recommended approach is to use a Conda environment. Basemap is much easier to install through this approach. The is simply a matter of creating a virtual python environment with conda and installing the required packages and then linking Julia&#39;s PyCall.jl package to this virtual conda environment. More information can be found in <a href="https://github.com/JuliaPy/PyCall.jl">PyCall</a> documentation for custom Conda environment.</p><p><strong>2.1a Create a virtual environment with Conda</strong></p><pre><code class="language-bash">$ conda create -name ClimateTools python=3.6
$ conda activate ClimateTools
$ pip install numpy scipy matplotlib
$ conda install -c anaconda basemap
$ pip install cmocean
$ conda install -c conda-forge basemap-data-hires # optional. For high-resolution maps
$ which python # gives you the path of Conda virtual environment to use in the next steps.</code></pre><p>Once those packages are installed, you need to tell PyCall.jl (in Julia) to use this conda environement in Julia.</p><pre><code class="language-julia">julia&gt; using PyCall
julia&gt; ENV[&quot;PYTHON&quot;]=&quot;...PATH TO CONDA PYTHON...&quot; # find the path with &quot;which python&quot; at previous step
julia&gt; using Pkg; Pkg.build(&quot;PyCall&quot;)</code></pre><h2><a class="nav-anchor" id="Approach-no.-2b.-Build-a-python-virtual-environment-with-virtualenv-and-link-PyCall.jl-to-it-1" href="#Approach-no.-2b.-Build-a-python-virtual-environment-with-virtualenv-and-link-PyCall.jl-to-it-1">Approach no. 2b. Build a python virtual environment with <code>virtualenv</code> and link PyCall.jl to it</a></h2><p>This is another way to install the required python package. This approach is less recommended than <code>Approach no. 2a</code>. This approach consist of using <code>virtualenv</code> command and install the required packages inside this virtual env and then link PyCall.jl to this virtual python environment. More information can be found in <a href="https://github.com/JuliaPy/PyCall.jl">PyCall</a> documentation.</p><p><strong>2.1b Create a virtual environment with Python 2.7.x.</strong></p><pre><code class="language-bash">$ virtualenv --python=/usr/bin/python2 /path/to/venv
$ /path/to/venv/bin/python -m pip install numpy
$ /path/to/venv/bin/python -m pip install scipy
$ /path/to/venv/bin/python -m pip install matplotlib
$ /path/to/venv/bin/python -m pip install https://github.com/matplotlib/basemap/archive/v1.0.7rel.tar.gz
$ /path/to/venv/bin/python -m pip install git+https://github.com/matplotlib/cmocean</code></pre><p><strong>2.3 Build PyCall with the new venv python</strong></p><p>Once the virtual environment python is tested, it&#39;s a matter of telling PyCall to use this distribution.</p><pre><code class="language-julia"># julia
julia&gt; ENV[&quot;PYTHON&quot;] = &quot;/path/to/venv/bin/python&quot;
julia&gt; using Pkg;Pkg.build(&quot;PyCall&quot;)
julia&gt; exit()
# re-enter julia
julia&gt; using ClimateTools
julia&gt; using Pkg; Pkg.test(&quot;ClimateTools&quot;)</code></pre><h2><a class="nav-anchor" id="Installing-ClimateTools.jl-1" href="#Installing-ClimateTools.jl-1">Installing ClimateTools.jl</a></h2><p>once the python dependencies are properly installed you can then install ClimateTools in Julia.</p><pre><code class="language-julia">pkg&gt; add ClimateTools # Tagged release</code></pre><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../datasets/"><span class="direction">Next</span><span class="title">Datasets</span></a></footer></article></body></html>
